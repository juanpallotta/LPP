
# Paper Celeste

# Agosto:
# 2021/08/27
# ./lidarAnalysis_PDL2 /mnt/Disk-1_8TB/Argentina/Cordoba/Paper_Celeste/20190827/LPP_OUT/20190827_L0_L1.nc /mnt/Disk-1_8TB/Argentina/Cordoba/Paper_Celeste/20190827/LPP_OUT/20190827_L0_L1_L2.nc /home/juan/LidarAnalysisCode/LPP/Lidar_Configuration_Files/analysisParameters_PDL1_2_Pilar_2009_AgoSep.conf

# 2021/08/29
# ./lidarAnalysis_PDL2 /mnt/Disk-1_8TB/Argentina/Cordoba/Paper_Celeste/20190829/LPP_OUT/20190829_L0_L1.nc /mnt/Disk-1_8TB/Argentina/Cordoba/Paper_Celeste/20190829/LPP_OUT/20190829_L0_L1_L2.nc /home/juan/LidarAnalysisCode/LPP/Lidar_Configuration_Files/analysisParameters_PDL1_2_Pilar_2009_AgoSep.conf

# Septiembre:
# 2021/09/24
# ./lidarAnalysis_PDL2 /mnt/Disk-1_8TB/Argentina/Cordoba/Paper_Celeste/20190924/LPP_OUT/20190924_L0_L1.nc /mnt/Disk-1_8TB/Argentina/Cordoba/Paper_Celeste/20190924/LPP_OUT/20190924_L0_L1_L2.nc /home/juan/LidarAnalysisCode/LPP/Lidar_Configuration_Files/analysisParameters_PDL1_2_Pilar_2009_AgoSep.conf

# 2021/09/27
# ./lidarAnalysis_PDL2 /mnt/Disk-1_8TB/Argentina/Cordoba/Paper_Celeste/20190927/LPP_OUT/20190927_L0_L1.nc /mnt/Disk-1_8TB/Argentina/Cordoba/Paper_Celeste/20190927/LPP_OUT/20190927_L0_L1_L2.nc /home/juan/LidarAnalysisCode/LPP/Lidar_Configuration_Files/analysisParameters_PDL1_2_Pilar_2009_AgoSep.conf

# 2021/09/30
# ./lidarAnalysis_PDL2 /mnt/Disk-1_8TB/Argentina/Cordoba/Paper_Celeste/20190930/LPP_OUT/20190930_L0_L1.nc /mnt/Disk-1_8TB/Argentina/Cordoba/Paper_Celeste/20190930/LPP_OUT/20190930_L0_L1_L2.nc /home/juan/LidarAnalysisCode/LPP/Lidar_Configuration_Files/analysisParameters_PDL1_2_Pilar_2009_AgoSep.conf

##########################################################################################
# DATA FORMAT OF THE FILE
# VARIABLE = DATA --> AT LEAST ONE SPACE BEFORE AND AFTER 'VARIABLE', 'DATA' AND THE EQUAL SIGH
# IF THE VARIABLE IS AN ARRAY, SEPARATE EACH ELEMENT WITH " : "
# IMPORTANT: THERE SHOULD BE AT LEAST ONE SPACE BEFORE AND AFTER THE ":"
# EX.:
# VAR = 2.0 :   5.5   :   6
# ARRAY OF STRINGS ARE NOT ALLOWED
# EX.:
# VAR = analog : digital : polarized
##########################################################################################

##########################################################################################
# GENERAL PARAMETERS
##########################################################################################

# MAXIMUN ZENITHAL ANGLE TO ANALIZE [ยบ] (IN CASE OF MULTIANGLE LIDARS)
maxZthAngle = 90

# CheckLidarDataBaseIntegrity(...)
meanAmeanBsize = 300

# WINDOWS SIZE TO COMPUTE THE MEAN AVERAGE [BINS]
spamAvgWin = 100

# RAYLEIGHT-FIT TYPE METHOD: FACTOR / RMS
Rayleight_Fit_TYPE = FACTOR

# BACKGROUND CORRECTION METHOD = AUTO/FIT/MEAN/NO_BKG
BkgCorrMethod = AUTO
# NUMBER OF BINS USED FOR BACKGROUND CALCULATION (TAKEN FROM THE TAIL OF THE LIDAR SIGNAL)
nBinsBkg = 2000
# nStepsAuto = 3000 
nStepsAuto = 1000 

##########################################################################################
# PARAMETERS FOR lidarAnalysis_PDL0
##########################################################################################

# DATE-TIME RANGE TO ANALYZE INSIDE THE FOLDER PASSED AS ARGUMENT TO lidarAnalysis_PDL0
# IF minTime = maxTime --> ALL FILES INSIDE THE FOLDER
minTime = 2019/09/27-10:00:00
maxTime = 2019/09/27-10:00:00

# INPUT DATAFILE FORMAT --> inputDataFileFormat
inputDataFileFormat = LICEL_FILE
# inputDataFileFormat = RAYMETRIC_FILE
# inputDataFileFormat = LALINET_NETCDF -- NOT IMPLEMENTET YET
# inputDataFileFormat = SCC_NETCDF -- NOT IMPLEMENTET YET
# inputDataFileFormat = CSV -- NOT IMPLEMENTET YET

# HOURS -- NOT INPLEMENTED YET
# Time_Zone = -4

# OUTPUT NETCDF DATAFILE FORMAT --> outDataFileFormat
outputDataFileFormat = LALINET_NETCDF
# outputDataFileFormat = SCC_NETCDF

##########################################################################################
# PARAMETERS FOR lidarAnalysis_PDL1
##########################################################################################

# LASER-BIN-OFFSET (OR TRIGGER-DELAY OR ZERO-BIN)
# ARRAY: ONE PER CHANNEL
indxOffset = 9 : 9 : 9 : 9 : 9 : 9 : 9 : 9 : 9 : 9 : 9 : 9 

# NUMBER OF FILES (EVENTS) THAT WILL BE AVERAGED INTO A SINGLE LIDAR SIGNAL
# 2019/08/27 --> PERFILES DE 10 SEG DURANTE 3 MINUTOS, DESCANSA 7 MINUTOS
# 2019/08/28 --> PERFILES DE 10 SEG DURANTE 3 MINUTOS, DESCANSA 7 MINUTOS
# 2019/09/24 --> PERFILES DE 10 SEG CONTINUOS
# 2019/09/27 --> PERFILES DE 10 SEG DURANTE 3 MINUTOS (18 PERFILES), DESCANSA 10 MIN APROX.
# 2019/09/30 --> PERFILES DE 10 SEG DURANTE 3 MINUTOS (18 PERFILES), DESCANSA 10 MIN APROX.
numEventsToAvg_PDL1 = 18

# WAVELENGHT USED FOR PDL1. INDEXES STARTING FROM 0
indxWL_PDL1 = 6 

# MOLECULAR DATA
# ABSOLUTE PATH TO THE RADIOSOUNDING/MODEL FILE. THIS FILE MUST BE FORMATTED:
# - COMMA SEPARATED
# - RANGE UNIT: METERS
# - TEMPERATURE UNIT: KELVIN
# - PRESSURE UNIT: HECTO PASCALS
Path_To_Molecular_File = /home/juan/LidarAnalysisCode/LPP/Lidar_Analysis_PDL1/MolData/US-StdA_DB_CEILAP.csv
# Path_To_Molecular_File = /home/juan/MEGAsync/procesamiento/LidarAnalysisCode/LPP/Lidar_Analysis_PDL1/MolData/US-StdA_DB_CEILAP.csv
# Molecular_Info = getRad
# SETTINGS OF THE COLUMN INDEX (0-2) OF THE PARAMETERS RANGE-TEMPERATURE-PRESSURE IN THE FILE:
Range_column_index_in_File = 0
Temp_column_index_in_File  = 1
Pres_column_index_in_File  = 2

# GROUND BASE TEMPERATURE AND PRESSURE:
Temperature_at_Lidar_Station = 25.0
Pressure_at_Lidar_Station = 940.0
# SCC
# Molecular_Calc = 0

# INITIAL RANGE OF ANALYSIS: rInitSig
# END RANGE OF ANALYSIS: rEndSig
rInitSig = 700
rEndSig = 20000
rInitErr = 300

# CLOUD DETECTION PARAMETERS
COMPUTE_CLOUD_MASK = NO
avg_Points_Cloud_Mask = 101
stepScanCloud = 1
nScanMax = 5000
errFactor = 2.0
thresholdFactor = 5.0
CLOUD_MIN_THICK = 0
RANGE_ADC_PHO_GLUING = 3000

errScanCheckFactor = 1.0
errCloudCheckFactor = 0.0
CLOUDS_BIN_GAP = 50
DELTA_RANGE_LIM_BINS = 100

ifODcut = NO
OD_cut = 0.0513

##########################################################################################
# PARAMETERS FOR lidarAnalysis_PDL2
##########################################################################################

# NUMBER OF FILES (EVENTS) THAT WILL BE MERGED (AVERAGED) INTO A SINGLE LIDAR SIGNAL
# IF NEGATIVE, ALL THE L0 PRIFILES WILL BE AVERAGED
# 36 = 2*numEventsToAvg_PDL1 
# 53 = 3*numEventsToAvg_PDL1 
numEventsToAvg_PDL2 = 18 

# ERROR CALCULUS FOR INVERSION
ErrorAnalysis = NO
nSigSetErr = 10

# NUMBER OF POINTS USED FOR A SMOOTHING SLIDING WINDOWS TO APPLY TO THE AEROSOL EXTINCTION AND BACKSCATTERING PROFILES. 
avg_Points_Fernald = 51

# FERNALD INVERSION PARAMETER
# LR: COULD BE AN ARRAY OR A SINGLE VALUE
LR = 50 : 55 : 60 : 65 : 70 : 75 : 80 : 85 : 90 : 95 : 100
# LR = 50
# INDEX OF THE CHANNEL TO BE INVERTED (INDEXED FROM 0)
# FOR NOW, ONLY ONE CHANNEL CAN BE INVERTED
indxWL_PDL2 = 6 

# --> sigTypeInversion*Used = Fil / Raw (DEFAULT)
# sigTypeInversionUsed = Fil

# --> heightRefInversion = ABOVE SEA LEVEL  --> IF <0 THE VALUE IS OBTAINED AUTOMATICALLY
heightRef_Inversion_ASL = 7000
# MAXIMUM RANGE TO ITEGRATE THE EXTINCTION PROFILE TO OBTAIN THE AOD (IN METERS)
integral_max_range_for_AOD = 5000
# HALF NUMBER OF POINTS (BINS) TO AVERAGE AROUND THE REFERENCE HEIGHT IN THE NORMALIZATION OF THE LIDAR SIGNAL.
avg_Half_Points_Fernald_Ref = 250
# LIDAR SIGNAL NORMALIZATION METHOD: MEAN/FIT
reference_method = FIT
# BACKSCATTERING RATIO = R_ref = BetaTot(rRef) / BetaMol(rRef) >1
R_ref = 1.05

##########################################################################################
# PARAMETERS FOR NETCDF-SCC DATA FILE FORMAT
##########################################################################################
